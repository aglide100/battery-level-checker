version: "3"

services:
    apid:
        build:
            context: .
            dockerfile: cmd/apid/Dockerfile
        networks:
            - kafka-network
        ports:
            - 80:80
        environment:
            - TZ=Asia/Seoul
        command: "/opt/bin/app/main -usingAuth=false"
    consumer:
        build:
            context: .
            dockerfile: cmd/consumer/Dockerfile
        networks:
            - kafka-network
        environment:
            - TZ=Asia/Seoul
        command: "/opt/bin/app/main"

networks:
    kafka-network:
        external: true
